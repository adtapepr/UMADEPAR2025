# 🔒 GUIA DE SEGURANÇA - VARIÁVEIS DE AMBIENTE
# ================================================

## ⚠️ ATENÇÃO: LEIA ANTES DE CONFIGURAR

### 1. ARQUIVOS SENSÍVEIS
- .env          → NUNCA commitar (contém chaves reais)
- .env.local    → NUNCA commitar (ambiente local)
- .env.production → NUNCA commitar (ambiente produção)

### 2. ARQUIVOS SEGUROS PARA COMMIT
- .env.example  → OK para commitar (apenas placeholders)
- .env.security → OK para commitar (apenas instruções)

### 3. VERIFICAÇÃO DE SEGURANÇA

# Comando para verificar se .env está sendo ignorado:
git status --ignored | grep ".env"

# Comando para verificar se não há chaves expostas:
grep -r "APP_USR-" . --exclude-dir=node_modules --exclude=".env" --exclude=".env.local"

# Se encontrar chaves expostas, REMOVA IMEDIATAMENTE!

### 4. CONFIGURAÇÃO SEGURA

1. Copie .env.example para .env:
   cp .env.example .env

2. Edite .env com suas chaves REAIS:
   # Substitua os placeholders pelas chaves do Mercado Pago
   VITE_MP_PUBLIC_KEY=APP_USR-[sua-chave-publica]
   MP_ACCESS_TOKEN=APP_USR-[sua-chave-privada]

3. Configure no Supabase (Produção):
   - Acesse: Settings > Environment Variables
   - Adicione: MP_ACCESS_TOKEN com valor real
   - Adicione: VITE_MP_PUBLIC_KEY com valor real

### 5. ONDE CADA CHAVE DEVE ESTAR

📍 VITE_MP_PUBLIC_KEY (Chave Pública):
   ✅ .env (desenvolvimento local)
   ✅ Supabase Environment Variables (produção)
   ✅ Frontend (é pública, sem problemas)

🔐 MP_ACCESS_TOKEN (Chave Privada):
   ✅ .env (desenvolvimento local)
   ✅ Supabase Environment Variables (produção)
   🚫 NUNCA no frontend
   🚫 NUNCA em documentação
   🚫 NUNCA commitada no Git

### 6. CHECKLIST DE SEGURANÇA

□ .env está no .gitignore?
□ .env não aparece em 'git status'?
□ Chaves removidas da documentação?
□ Placeholders seguros no .env.example?
□ Variáveis configuradas no Supabase?
□ Edge Functions reimplantadas?

### 7. EM CASO DE EXPOSIÇÃO ACIDENTAL

1. REVOGUE as chaves no painel do Mercado Pago
2. GERE novas chaves
3. ATUALIZE todas as configurações
4. VERIFIQUE o histórico do Git
5. CONSIDERE fazer um novo commit removendo dados sensíveis

---
💡 Lembre-se: Segurança é responsabilidade de todos!